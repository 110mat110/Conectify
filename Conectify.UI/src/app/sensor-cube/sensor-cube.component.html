<div *ngIf="sensor" class="cube" (click)="onClick()" height style="border: 1px solid {{ accentColor }};" >

<button *ngIf="device" class="source-button" (click)="SourceClick()"> <mat-icon>device_hub</mat-icon> </button>

<table class="hiddenTable" >   
<tr>
<td style="background-color: transparent !important; vertical-align: centre;">
    <div *ngIf="showName">
        <b>{{showName}}</b>
      </div>
      <div *ngIf="!showName">
        <b>{{sensor.name}} &#64; {{device?.name}}</b>
      </div>
    <div *ngIf="metadatas">
        <app-metadata-icons [metadatas] = "metadatas"></app-metadata-icons>
      </div>
    <!-- <div><b>{{sensor.sourceThing.thingName}}</b></div> -->
    <div *ngIf="latestVal">
        {{latestVal.name}}
        <div *ngIf="latestVal.numericValue >= 0">
            <mat-form-field>
                <mat-label>Numeric value</mat-label>
                <input matInput disabled value="{{latestVal.numericValue}} {{latestVal.unit}}">
            </mat-form-field>
        </div>
        <div *ngIf="latestVal.stringValue">
            <mat-form-field>
                <mat-label>String value</mat-label>
                <input matInput disabled value="{{latestVal.stringValue}} {{latestVal.unit}}">
            </mat-form-field>
            
        </div>
    </div>

</td>
<br/>
<br/>
<td *ngIf="valsReady" width="100%" height="200px">
<!-- <app-last-value [chartOption] = "chartOption"></app-last-value> [options]="chartOption" -->
<div echarts [autoResize]="true" [options]="chartOption" [merge]="mergeOptions" class="cube-chart" style="height: 100%;"></div>
</td>
</tr>
</table>
</div>
