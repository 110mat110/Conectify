<div *ngIf="sensors.length === 1" class="cube" (click)="onClick()" style="border: 1px solid {{ accentColor }};">
  <button *ngIf="device" class="source-button" (click)="SourceClick()"> <mat-icon>device_hub</mat-icon> </button>

  <div class="cube-header">
    <b *ngIf="showName">{{showName}}</b>
    <b *ngIf="!showName">{{sensors[0].sensor.name}} &#64; {{device?.name}}</b>
  </div>

  <div *ngIf="sensors[0].metadatas" class="cube-meta">
    <app-metadata-icons [metadatas]="sensors[0].metadatas"></app-metadata-icons>
  </div>

  <div *ngIf="sensors[0].latestVal" class="cube-value">
    <span *ngIf="sensors[0].latestVal.name" class="value-label">{{sensors[0].latestVal.name}}</span>
    <span *ngIf="sensors[0].latestVal.numericValue >= 0" class="value-chip">{{sensors[0].latestVal.numericValue}} {{sensors[0].latestVal.unit}}</span>
    <span *ngIf="sensors[0].latestVal.stringValue" class="value-chip">{{sensors[0].latestVal.stringValue}} {{sensors[0].latestVal.unit}}</span>
  </div>

  <div *ngIf="valsReady" class="cube-chart-container">
    <div echarts [autoResize]="true" [options]="chartOption" [merge]="mergeOptions" class="cube-chart"></div>
  </div>
</div>

<div *ngIf="sensors.length > 1" class="cube">
  <button *ngIf="device" class="source-button" (click)="SourceClick()"> <mat-icon>device_hub</mat-icon> </button>
  <div *ngIf="showName" class="cube-title">
    <b>{{ showName }}</b>
  </div>

  <div class="sensor-list">
    <div class="sensor-row" *ngFor="let s of sensors">
      <div class="sensor-name">{{ s?.latestVal?.name }}</div>
      <div class="sensor-value">
        {{ s?.latestVal?.numericValue }} {{ s?.latestVal?.unit }}
      </div>
    </div>
  </div>
</div>


